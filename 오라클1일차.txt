<2019 04 12> - 1일차

- 요구분석서를 분석하여 구현 불가능한 항목 세가지를 찾아 선생님께 확인받음

- 선생님이 나누어주신 요구 분석서 를 분석하여 큰 틀을 잡으며 table과 칼럼을 구축함.

- 교수테이블, 과정테이블, 과목테이블, 학생테이블, 성적테이블 구축

- 성적테이블에 과목등수 컬럼 추가

- 각 정보를 구별하기 위해 테이블에 id나 코드 컬럼을 추가함

- 포스트잇 사용

- 강의 table, 교재 table 추가

- 테이블마다 기본키 외래키 설정함

- 성적테이블에 과정코드 과목코드를 복합키로 설정함

- 각 컬럼관계 설정

- 한과목에 교재가 여러개인지 ? 그렇게 되면 다대다 관계
  한과목에 교재가 한개면 일 대 다관계
   -> 선생님께서 알아서 하라고 함 → 교재는 한권으로 설정하기로...

- 성적테이블에 교수id가 있어야하는가
  홍비 : 교수가 자기 수업을 듣는 학생을 검색할때 교수id가 필요함. 교수랑 성적테이블은 복잡하기때문에 그게 편하다.
  기승 : 꼭 필요한지 생각해봐야될듯 어차피 이대로면 정규화될때 쪼개지게됨
  → 일단 그대로 두고 정규화할때 다시 고려해보자

- 수강테이블을 만들까말까
  학생테이블과 성적테이블에 학생id 다대다
  기승 : 학생테이블 성적테이블 사이에 중간테이블인 수강테이블을 만들고싶다
  → 정규화때하기로함

- 다대다관계 컬럼 사이에 중간테이블 만듦

- 과정+과목 테이블의 과정코드 과정테이블의 과정코드 관계 설정을 어떻게 해야될지 고민
  → 과정+과목테이블이 다 , 과정 테이블을 일로 설정하기로 함

- 기본키 중복불가능한데 성적테이블에 과정코드 과목코드가 너무 여러개가됨.
  성적테이블 복합키 불가능하다. 복합키를 빼고 기본키 없이 참조만하자. 수강테이블도 만들필요가 없어짐

- 이렇게 만들면(학생,교수가 모두 적히는구조) 너무 복잡해지는데 테이블 조인을 안하기위해서 테이블구조를 바꾸는것이 맞나?
  
~~~ 생각의 시간 ~~~

- 중간테이블에 다른 컬럼을 넣어도 된다는 사실이 기억났다!
 
- 학생테이블과 성적테이블 중간테이블에 다른컬럼을 넣어서......?
  학생테이블 학생아이디 1 성적테이블 학생아이디 다로 설정되기때문에 중간테이블은 필요없다

- 성적테이블에 교수 id를 빼도될거같다. 교수테이블에서 교수아이디 → 과목코드 출력 → 학생이 출력되므로

- 과목테이블에 과정코드가 있기때문에 성적테이블에 과정코드를 지움
  과정 + 과목테이블의 중간테이블이 있으니까 과목테이블에서 과정코드를 지움

- 성적테이블 과목코드 학생id를 복합키로하자

- 요구분석서에서 과정검색 할 때 강의실이 떠야하고 과목검색할때는 강의실이 필요하지 않다는것 발견
  과목테이블에 강의실코드컬럼 과정테이블로 옮기기로 함

- 과목 기간 컬럼을 만들지말지에 대해서 논의
  트리거를 이용하자? 안된다.
  칼럼을 만들지말자. 출력할 때 프로시저로 부르자.

- 학생테이블에 중도포기여부가 있으면 안됨
  한 학생이 여러과정을 들으면 다대다 관계가 되기때문에 과정이랑 학생사이에 중간테이블이 있어야됨
  중도포기 테이블 - 학생ID, 과정코드, 중도포기여부 컬럼

- 과정을 중도포기하더라도 이미 수강한 과목에 대해서는 정보가 출력되어야하는데
  중도포기테이블은 과정만 출력이 되는데 출력이 되나?
  중도포기한 시점 컬럼을 만들어서 시점을 남겨서 포기한 시점 전에 들은것은 출력되게하자
  → 중도포기 시점 컬럼 추가 

- 교수자입장에서 성적출력 과목옆에도 중도포기 여부가 있어야 성적을 입력하기 편하지 않을까?
  과정중도포기가 있고 과목중도포기도 있어야되나?
  시점을 이용하자. 중도포기한 시점이나 이후 과목은 성적테이블에 입력안되게 제약조건을 걸자.

~~점심시간~~

- 한 과정 안에 과목이여러개면 교수가 다 다르게 설정해야되는데 지금 구조에서는 그게 불가능하지않나요?
  → 학원 시스템이라고 생각하면 시간이아니라 기간으로 생각하면 지금 구조에서 가능해짐

- 두과정에 한 과목이 들어갈 수있나?
  → 선생님 답변 : 과정이 평일/주말로 나뉘어진다면 가능하지만 그렇지 않은 상황이라면 틀린것이라
  → 합의 내용 : 평일/주말 설정은 하지 않고 과정
		 과목 중간테이블 삭제하고 과목테이블의 과정코드를 살려서 일대다 구조 구성하기로 함
		 과정이 일 / 과목이 다 

<3시 컨펌 회의 기록>
- 데이터 타입 써오기
- 로그인 페이지 화면 레이아웃 핵심 위주로
- 로그인 쿼리문 작성해보기
- 중도포기 테이블의 문제점. 정원이 200명이면 그중 20명이 담기면 비효율적이다.
  중도포기 테이블에는 중도포기한 사람 데이터만 들어가야한다
- 과목명 과목코드에 의존적이지 않은 상태인 것 문제
  과목코드가 다르고 과목명이 같은것은 안된다.


- 중도포기 테이블에 중도포기 여부 컬럼을 지우고 중도포기한 사람만 들어가도록 수정

- 현재구조는 과목만 검색 불가능
  과목 카테고리 테이블을 새로 만들자
  과목카테고리테이블 추가
  과목테이블		카테코드 추가
  과정카테고리 테이블 추가

- 로그인에 관리자 테이블 만들어야하냐?
  아니다 필요없다.

- 로그인화면에서 교수냐 학생이냐를 판별할 수 있는 구조가 필요하다
  ID/PW/유형 구조로 ID/PW로 로그인을 하면 유형파트에따라서 교수/학생/관리자 유형 판별가능

- 중도포기시점 두개를 못넣는다. PK없애면 되잖아요. 그러면 안되네
  과목코드를 없애면 되잖아요. 그럼 과목을 찾기를 어려워
  그럼 과목코드를 없애고 수강포기과목 테이블을새로 만들자. 학생아이디랑 과목컬럼을 넣어서 수강포기한 사람들을 찾아서 넣게
  중도포기테이블 과목테이블 성적테이블 레프트 조인하면 테이블을 안만들어도돼
  → 일단 수강포기테이블을 만들기로

- 중도 탈락하여 명단에서 제외된 학생이 로그인할 때 뷰 이용 수강포기과목/ 성적

- 다시 ER 정리하고 컴퓨터로 ER옮기고 정규화합시다

























 